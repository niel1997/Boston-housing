# *波士顿房价模型分析*

## *第一步 导入数据*
- 载入该项目需要的各类库
（①numpyPython#语言的一个扩展程序库，支持大量组的维度数与矩阵运算，此外也针对数组运算提供大量的数学函数库②pandas#用于数据操纵和分析，建立在Numpy之上的③sklearn.model_selection中的ShuffleSplit用于将样本集合随机“打散”后划分为训练集、测试集④visual导入补充可视化代码）
- 导入数据集，将数据集分为prices,features两个集合

## *第二步 数据分析* 
- 通过调用numpy的包，计算prices中的'MEDV'的最小值、最大值、均值、中值和标准差，将运算结果储存在相应的变量中。
- 我们通过建立'RM' 是该地区中每个房屋的平均房间数量；'LSTAT'是指该地区有多少百分比的房东属于是低收入阶层（有工作但收入微薄）；'PTRATIO'是该地区的中学和小学里，学生和老师的数目比（学生/老师）三者和'MEDV'之间关系的点状图，从而观察出各自的相关性。

## *第三步 建立模型*
- 如果不能对模型的训练和测试的表现进行量化地评估，我们就很难衡量模型的好坏。模型的决定系数R<sup>2</sup>是回归分析中十分常用的统计信息，经常被当作衡量模型预测能力好坏的标准。R<sup>2</sup>的数值范围从0至1，表示目标变量的预测值和实际值之间的相关程度平方的百分比，即该模型中目标变量中有百分之多少能够用特征来解释。
- sklearn.model_selection 中的 train_test_split来将features和prices的数据都分成用于训练的数据子集和用于测试的数据子集。

## *第四步 分析模型的表型* 
- 学习曲线
下方区域内的代码会输出四幅图像，它们是一个决策树模型在不同最大深度下的表现。每一条曲线都直观得显示了随着训练数据量的增加，模型学习曲线的在训练集评分和验证集评分的变化，评分使用决定系数R2。曲线的阴影区域代表的是该曲线的不确定性（用标准差衡量）。
- 复杂度曲线
下列代码内的区域会输出一幅图像，它展示了一个已经经过训练和验证的决策树模型在不同最大深度条件下的表现。这个图形将包含两条曲线，一个是训练集的变化，一个是验证集的变化。跟学习曲线相似，阴影区域代表该曲线的不确定性，模型训练和测试部分的评分都用的 performance_metric 函数。
## *第五步 评估模型的表现*
- 构建一个模型，并使用 fit_model 中的优化模型去预测客户特征集。
- 训练最优模型
在这个练习中，你将需要将所学到的内容整合，使用决策树算法训练一个模型。为了得出的是一个最优模型，你需要使用网格搜索法训练模型，以找到最佳的 'max_depth' 参数。你可以把'max_depth' 参数理解为决策树算法在做出预测前，允许其对数据提出问题的数量。决策树是监督学习算法中的一种。 另外，你会发现在实现的过程中是使用ShuffleSplit()作为交叉验证的另一种形式（参见'cv_sets'变量）。虽然它不是你在问题8中描述的K-fold交叉验证方法，但它同样非常有用！下面的ShuffleSplit()实现将创建10个('n_splits')混洗集合，并且对于每个混洗集，数据的20％（'test_size'）将被用作验证集合。当您在实现代码的时候，请思考一下它与K-fold cross-validation的不同与相似之处。 对于下面代码单元格中的 fit_model 函数，您需要实现以下内容：
1.定义 'regressor' 变量: 使用 sklearn.tree 中的 DecisionTreeRegressor 创建一个决策树的回归函数;
2.定义 'params' 变量: 为 'max_depth' 参数创造一个字典，它的值是从1至10的数组;
3.定义 'scoring_fnc' 变量: 使用 sklearn.metrics 中的 make_scorer 创建一个评分函数。将 ‘performance_metric’ 作为参数传至这个函数中；
4.定义 'grid' 变量: 使用 sklearn.model_selection 中的 GridSearchCV 创建一个网格搜索对象；将变量'regressor', 'params', 'scoring_fnc'和 'cross_validator' 作为参数传至这个对象构造函数中；

## *第六步 做出预测*
- 当我们用数据训练出一个模型，它现在就可用于对新的数据进行预测。在决策树回归函数中，模型已经学会对新输入的数据提问，并返回对目标变量的预测值。你可以用这个预测来获取数据未知目标变量的信息，这些数据必须是不包含在训练数据之内的。